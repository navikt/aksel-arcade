<!DOCTYPE html>
<html>
<head>
  <title>Does Sandbox Load?</title>
  <style>
    body { padding: 2rem; font-family: monospace; }
    iframe { width: 100%; height: 400px; border: 2px solid red; background: yellow; }
    .log { padding: 0.5rem; margin: 0.5rem 0; background: #f5f5f5; }
  </style>
</head>
<body>
  <h1>Step 1: Does sandbox.html even load?</h1>
  <div id="logs"></div>
  <iframe id="test" src="/sandbox.html"></iframe>

  <script>
    const logs = document.getElementById('logs');
    let startTime = Date.now();
    
    function log(msg) {
      const el = document.createElement('div');
      el.className = 'log';
      el.textContent = `[+${Date.now() - startTime}ms] ${msg}`;
      logs.appendChild(el);
    }

    log('Waiting for SANDBOX_READY message...');

    const timeout = setTimeout(() => {
      log('❌ TIMEOUT - No SANDBOX_READY after 10 seconds!');
      log('This means sandbox.html failed to load or execute.');
    }, 10000);

    window.addEventListener('message', (e) => {
      if (e.data?.type === 'SANDBOX_READY') {
        clearTimeout(timeout);
        log('✅ SANDBOX_READY received!');
        log('Sandbox loaded successfully.');
      }
    });
  </script>
</body>
</html>
