<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verify Darkside Theme</title>
  <link rel="stylesheet" href="https://cdn.nav.no/@navikt/ds-css/5.18.3/darkside.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      width: 100%;
      height: 100%;
    }
    html {
      color-scheme: dark;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--ax-bg-default, #1a1a1a);
      color: var(--ax-text-default, #ffffff);
    }
    #root {
      padding: 2rem;
    }
    #info {
      position: fixed;
      top: 0;
      right: 0;
      background: #000;
      color: #0f0;
      padding: 10px;
      font-family: monospace;
      font-size: 12px;
      max-width: 300px;
      border: 1px solid #333;
    }
  </style>
</head>
<body class="navds-theme-darkside">
  <div id="info">Loading...</div>
  <div id="root"></div>
  
  <script type="module">
    const info = document.getElementById('info');
    const log = (msg) => {
      info.innerHTML += msg + '<br>';
      console.log(msg);
    };
    
    log('✓ Loading React...');
    const React = await import('https://esm.sh/react@18.3.1');
    const ReactDOM = await import('https://esm.sh/react-dom@18.3.1');
    
    log('✓ Loading Aksel...');
    const AkselDS = await import('https://esm.sh/@navikt/ds-react@5.18.3');
    
    log('✓ Making global...');
    Object.keys(AkselDS).forEach(key => {
      window[key] = AkselDS[key];
    });
    
    log('✓ Button: ' + typeof window.Button);
    log('✓ Stack: ' + typeof window.Stack);
    log('✓ Box: ' + typeof window.Box);
    
    // Transpiled code
    const code = `function App() {
      return /*#__PURE__*/React.createElement(window.Stack, {
        gap: "4",
        direction: "column"
      }, 
        /*#__PURE__*/React.createElement(window.Button, {
          variant: "primary"
        }, "Primary Button"),
        /*#__PURE__*/React.createElement(window.Button, {
          variant: "secondary"
        }, "Secondary Button"),
        /*#__PURE__*/React.createElement(window.Button, {
          variant: "tertiary"
        }, "Tertiary Button")
      );
    }`;
    
    log('✓ Evaluating...');
    const Component = eval(code);
    
    log('✓ Rendering...');
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(Component));
    
    log('✓ DONE!');
    
    setTimeout(() => {
      info.style.opacity = '0.3';
    }, 2000);
  </script>
</body>
</html>
