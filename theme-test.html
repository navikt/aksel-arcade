<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Theme Variable Test</title>
  <script>
    window.addEventListener('load', () => {
      const iframe = document.querySelector('iframe');
      const checkButton = document.getElementById('check');
      const results = document.getElementById('results');
      
      checkButton.addEventListener('click', () => {
        const iframeDoc = iframe.contentDocument;
        const themeDivs = Array.from(iframeDoc.querySelectorAll('.aksel-theme'));
        
        results.innerHTML = '<h3>Theme Divs Found: ' + themeDivs.length + '</h3>';
        
        themeDivs.forEach((div, i) => {
          const styles = window.getComputedStyle(div);
          const axTextNeutral = styles.getPropertyValue('--ax-text-neutral').trim();
          
          results.innerHTML += `
            <div style="border: 2px solid ${axTextNeutral === '#202733' ? 'green' : 'red'}; padding: 10px; margin: 10px 0;">
              <strong>Div ${i}: ${div.tagName}</strong><br>
              Classes: ${div.className}<br>
              --ax-text-neutral: <span style="color: ${axTextNeutral}">${axTextNeutral}</span><br>
              data-theme: ${div.getAttribute('data-theme') || 'none'}<br>
              data-color: ${div.getAttribute('data-color') || 'none'}<br>
              ${axTextNeutral === '#202733' ? '✅ CORRECT (light mode)' : '❌ WRONG (dark mode)'}
            </div>
          `;
        });
        
        // Check Alert text color
        const alert = iframeDoc.querySelector('[class*="alert"]');
        if (alert) {
          const textDiv = alert.querySelector('.aksel-body-long, .aksel-alert__wrapper') || alert;
          const textColor = window.getComputedStyle(textDiv).color;
          results.innerHTML += `
            <div style="border: 3px solid blue; padding: 10px; margin: 10px 0; background: #f0f0f0;">
              <strong>Alert Text Color</strong><br>
              Computed color: <span style="color: ${textColor}; font-weight: bold; font-size: 20px;">${textColor}</span><br>
              Expected: rgb(32, 39, 51) / #202733<br>
              ${textColor === 'rgb(32, 39, 51)' ? '✅ CORRECT' : '❌ WRONG - shows dark mode color!'}
            </div>
          `;
        }
      });
    });
  </script>
  <style>
    body { font-family: monospace; padding: 20px; }
    button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
    #results { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Aksel Theme Variable Inspector</h1>
  <p><strong>INSTRUCTIONS</strong>:</p>
  <ol>
    <li>The app below should be in LIGHT MODE (switch to light if not)</li>
    <li>Click "Check Theme Variables" button</li>
    <li>Look at the Alert Text Color result</li>
    <li>If it shows rgb(223, 225, 229) = WRONG (dark mode)</li>
    <li>If it shows rgb(32, 39, 51) = CORRECT (light mode)</li>
  </ol>
  
  <button id="check">Check Theme Variables</button>
  <div id="results"></div>
  
  <hr>
  <iframe src="http://localhost:5173" width="100%" height="800px"></iframe>
</body>
</html>
