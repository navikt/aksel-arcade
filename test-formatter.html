<!DOCTYPE html>
<html>
<head>
  <title>Formatter Test</title>
</head>
<body>
  <h1>Prettier Formatter Test</h1>
  <button id="testBtn">Test Format</button>
  <pre id="output"></pre>

  <script type="module">
    // Import directly from node_modules
    import * as prettier from './node_modules/prettier/standalone.mjs'
    import * as prettierPluginBabel from './node_modules/prettier/plugins/babel.mjs'

    const testCode = `function hello(  ){
const x=1;
return <Button variant="primary"     size="medium">Click</Button>
}`

    document.getElementById('testBtn').addEventListener('click', async () => {
      const output = document.getElementById('output')
      output.textContent = 'Formatting...\n'
      
      try {
        console.log('Prettier:', prettier)
        console.log('Plugin:', prettierPluginBabel)
        
        const formatted = await prettier.format(testCode, {
          parser: 'babel',
          plugins: [prettierPluginBabel],
          printWidth: 100,
          tabWidth: 2,
          singleQuote: true,
          semi: false,
        })
        
        output.textContent = 'SUCCESS!\n\nOriginal:\n' + testCode + '\n\nFormatted:\n' + formatted
        console.log('Formatted:', formatted)
      } catch (error) {
        output.textContent = 'ERROR: ' + error.message
        console.error('Error:', error)
      }
    })
  </script>
</body>
</html>
